<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=hugo-theme content="Axiom 0.8.0">
<link rel=icon type=image/png sizes=32x32 href=https://dpolyakov.github.io/openlumi.github.io/>
<link rel=icon type=image/x-icon href=https://dpolyakov.github.io/openlumi.github.io/>
<link rel=apple-touch-icon href=https://dpolyakov.github.io/openlumi.github.io/>
<link rel=canonical href=https://dpolyakov.github.io/openlumi.github.io/ru/domoticz-zigate/>
<link rel=preload as=style href="https://dpolyakov.github.io/openlumi.github.io/openlumi.github.io/bundle.css?v=1631896254" media=all>
<link rel=stylesheet href="https://dpolyakov.github.io/openlumi.github.io/openlumi.github.io/bundle.css?v=1631896254" media=all>
<style>.cdata pre{background-color:#1f2937;color:#e5e7eb}.cdata :not(pre)>code{background-color:#f3f4f6;color:#7c3aed}.chroma .err{background-color:#991b1b;color:#fecaca}.chroma .hl{background-color:#374151}.chroma .ln{color:#9ca3af}.chroma .k,.chroma .kc,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr{color:#60a5fa}.chroma .kt{color:#a78bfa}.chroma .na,.chroma .nb{color:#fbbf24}.chroma .nc{color:#f87171}.chroma .no{color:#34d399}.chroma .nd{color:#f87171}.chroma .ne{color:#f87171}.chroma .nf{color:#fbbf24}.chroma .nt{color:#f87171}.chroma .l{color:#a78bfa}.chroma .dl,.chroma .ld,.chroma .s,.chroma .s2,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .sd{color:#34d399}.chroma .se{color:#9ca3af}.chroma .s1,.chroma .sh,.chroma .si,.chroma .sr,.chroma .ss,.chroma .sx{color:#34d399}.chroma .il,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .mo{color:#a78bfa}.chroma .o,.chroma .ow{color:#93c5fd}.chroma .c,.chroma .c1,.chroma .ch,.chroma .cm,.chroma .cp,.chroma .cpf,.chroma .cs,.chroma .p{color:#9ca3af}.chroma .ge{font-style:italic}.chroma .gs{font-weight:700}</style>
<title>Установка Domoticz b Zigate Control Panel : OpenWrt на шлюзах DGNWG05LM и ZHWG11LM</title>
<meta property="og:title" content="Установка Domoticz b Zigate Control Panel">
<meta property="og:site_name" content="OpenWrt на шлюзах DGNWG05LM и ZHWG11LM">
<meta property="og:url" content="https://dpolyakov.github.io/openlumi.github.io/ru/domoticz-zigate/">
<link rel=image_src href=https://dpolyakov.github.io/>
<meta property="og:image" content="https://dpolyakov.github.io/">
<meta property="og:image:width" content>
<meta property="og:image:height" content>
<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:description" content="В репозитории OpenWrt 19.07 находится достаточно старая версия domoticz. Чтобы установить свежую версию, воспользуйтесь готовым скриптом, который нужно будет запустить в консоли wget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh Он установит все необходимые библиотеки, domoticz и плагин для работы с zigbee. Домотикс будет работать на порту 8080.">
<meta name=description content="В репозитории OpenWrt 19.07 находится достаточно старая версия domoticz. Чтобы установить свежую версию, воспользуйтесь готовым скриптом, который нужно будет запустить в консоли wget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh Он установит все необходимые библиотеки, domoticz и плагин для работы с zigbee. Домотикс будет работать на порту 8080.">
<meta property="og:updated_time" content="0001-01-01T00:00:00Z">
<meta property="fb:app_id" content>
<meta name=author content="Unknown">
<meta property="article:author" content="https://dpolyakov.github.io/openlumi.github.io">
<meta property="article:published_time" content="0001-01-01T00:00:00Z">
<meta property="article:modified_time" content="0001-01-01T00:00:00Z">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Установка Domoticz b Zigate Control Panel","alternativeHeadline":"В репозитории OpenWrt 19.07 находится достаточно старая версия domoticz. Чтобы установить свежую версию, воспользуйтесь готовым скриптом, который нужно будет запустить в консоли wget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh Он установит все необходимые библиотеки, domoticz и плагин для работы с zigbee. Домотикс будет работать на порту 8080.","url":"https://dpolyakov.github.io/openlumi.github.io/ru/domoticz-zigate/","image":"https://dpolyakov.github.io/","mainEntityOfPage":{"@type":"WebPage","@id":"https://dpolyakov.github.io/openlumi.github.io/ru/domoticz-zigate/"},"description":"В репозитории OpenWrt 19.07 находится достаточно старая версия domoticz. Чтобы установить свежую версию, воспользуйтесь готовым скриптом, который нужно будет запустить в консоли wget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh Он установит все необходимые библиотеки, domoticz и плагин для работы с zigbee. Домотикс будет работать на порту 8080.","author":{"@type":"Person","name":"Unknown"},"publisher":{"@type":"Organization","name":"OpenWrt на шлюзах DGNWG05LM и ZHWG11LM","logo":{"@type":"ImageObject","url":"https://dpolyakov.github.io/"}},"datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","articleBody":"\u003cp\u003eВ репозитории OpenWrt 19.07 находится достаточно старая версия domoticz.\nЧтобы установить свежую версию, воспользуйтесь готовым скриптом, который\nнужно будет запустить в консоли\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003ewget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eОн установит все необходимые библиотеки, domoticz и плагин для работы с zigbee.\nДомотикс будет работать на порту 8080.\u003c/p\u003e\n\u003ch1 id=\"прошивка-zigate-и-подключение-zigate-plugin-к-domoticz\"\u003eПрошивка Zigate и подключение Zigate plugin к Domoticz\u003c/h1\u003e\n\u003cp\u003eДля модуля jn5169, установленного на нашем шлюзе используется прошивка ZiGate.\nЧтобы прошить её в модуль, воспользуетесь командой\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003ewget https://github.com/openlumi/ZiGate/releases/download/snapshot-20201201/ZigbeeNodeControlBridge_JN5169_FULL_FUNC_DEVICE_31e_115200.bin -O /tmp/zigate.bin \njnflash /tmp/zigate.bin\njntool erase_pdm\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"настройка-плагина\"\u003eНастройка плагина\u003c/h2\u003e\n\u003cp\u003eВсё что нужно, это в разделе Setup \u0026gt; Hardware добавить элемент с типом\n\u003ccode\u003eZigate plugin\u003c/code\u003e, вписать имя в поле Name и нажать \u003ccode\u003eAdd\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"images/zigate_plugin.png\" alt=\"Добавление Zigate plugin\"\u003e\u003c/p\u003e\n\u003cp\u003eДля настройки использовать\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eZigate Model: DIN\nSerial Port: /dev/ttymxc1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eспустя несколько минут плагин проинициализируется и запустит панель управления\nна порту 9440.\u003c/p\u003e\n\u003ch2 id=\"панель-управления-zigate\"\u003eПанель управления Zigate\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"images/zigate_dashboard.png\" alt=\"Панель управления\"\u003e\u003c/p\u003e\n\u003cp\u003eВ данной панели вы можете включить режим сопряжения с дочерними устройствами и\nизменять настройки.\nЧтобы включить режим добавления устройств, включите переключатель\n\u003ccode\u003eAccept new hardware\u003c/code\u003e в верхнем правом углу.\u003c/p\u003e\n\u003cp\u003eБолее подробно о панели вы можете прочитать на странице плагина\n\u003ca href=\"https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/WebUserInterfaceNavigation.md\"\u003ehttps://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/WebUserInterfaceNavigation.md\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eПосле добавления дочернего zigbee устройства оно появится в интерфейсе domoticz.\u003c/p\u003e"}</script>
<link rel=preload as=script href="https://dpolyakov.github.io/openlumi.github.io/bundle.js?v=1631896254">
</head>
<body>
<header id=nav class=header>
<div class="ax-l-i max-w-6xl">
<div class=ax-logo>
<a class=block href=https://dpolyakov.github.io/openlumi.github.io/ru/ title="OpenWrt на шлюзах DGNWG05LM и ZHWG11LM"><span class="font-semibold text-raven-900">OpenWrt на шлюзах DGNWG05LM и ZHWG11LM</span></a>
</div>
<div class=ax-user>
<a class="p-2 w-8 h-8 block text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" target=_blank rel="noopener nofollow" href="https://www.google.com/search?q=site:https://dpolyakov.github.io/openlumi.github.io/" title=Поиск><svg class="fill-current" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.67 12.804c0-5.6 4.544-10.134 10.133-10.134s10.134 4.544 10.134 10.134-4.544 10.133-10.134 10.133S2.67 18.393 2.67 12.804zm28.943 16.923-8.868-8.868c4.287-5.3 3.68-13.012-1.378-17.57S8.564-1.066 3.75 3.75s-5.017 12.558-.46 17.618 12.28 5.665 17.57 1.378l8.868 8.868a1.33 1.33.0 002.231-.597c.123-.46-.008-.952-.345-1.29h0z"/></svg>
</a>
</div>
</div>
</header>
<main>
<div class=page-single>
<div class="ax-content ax-l-o">
<div class="ax-l-i max-w-680">
<h1 class="page-title font-content-title font-normal leading-tight tracking-default text-40">Установка Domoticz b Zigate Control Panel</h1>
<article class="cdata mt-8">
<p>В репозитории OpenWrt 19.07 находится достаточно старая версия domoticz.
Чтобы установить свежую версию, воспользуйтесь готовым скриптом, который
нужно будет запустить в консоли</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>wget https://github.com/openlumi/xiaomi-gateway-openwrt/raw/master/files/domoticz.sh -O - | sh
</code></pre></div><p>Он установит все необходимые библиотеки, domoticz и плагин для работы с zigbee.
Домотикс будет работать на порту 8080.</p>
<h1 id=прошивка-zigate-и-подключение-zigate-plugin-к-domoticz>Прошивка Zigate и подключение Zigate plugin к Domoticz</h1>
<p>Для модуля jn5169, установленного на нашем шлюзе используется прошивка ZiGate.
Чтобы прошить её в модуль, воспользуетесь командой</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>wget https://github.com/openlumi/ZiGate/releases/download/snapshot-20201201/ZigbeeNodeControlBridge_JN5169_FULL_FUNC_DEVICE_31e_115200.bin -O /tmp/zigate.bin 
jnflash /tmp/zigate.bin
jntool erase_pdm
</code></pre></div><h2 id=настройка-плагина>Настройка плагина</h2>
<p>Всё что нужно, это в разделе Setup > Hardware добавить элемент с типом
<code>Zigate plugin</code>, вписать имя в поле Name и нажать <code>Add</code></p>
<p><img src=images/zigate_plugin.png alt="Добавление Zigate plugin"></p>
<p>Для настройки использовать</p>
<pre><code>Zigate Model: DIN
Serial Port: /dev/ttymxc1
</code></pre>
<p>спустя несколько минут плагин проинициализируется и запустит панель управления
на порту 9440.</p>
<h2 id=панель-управления-zigate>Панель управления Zigate</h2>
<p><img src=images/zigate_dashboard.png alt="Панель управления"></p>
<p>В данной панели вы можете включить режим сопряжения с дочерними устройствами и
изменять настройки.
Чтобы включить режим добавления устройств, включите переключатель
<code>Accept new hardware</code> в верхнем правом углу.</p>
<p>Более подробно о панели вы можете прочитать на странице плагина
<a href=https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/WebUserInterfaceNavigation.md>https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/WebUserInterfaceNavigation.md</a></p>
<p>После добавления дочернего zigbee устройства оно появится в интерфейсе domoticz.</p>
</article>
</div>
</div>
</div>
</main>
<footer class=footer>
<div class="ax-l-i max-w-6xl">
<nav class="flex items-center justify-center">
</nav>
<div class="footer-copyright text-sm text-center text-gray-400 mt-4">
&#169; -2021 OpenWrt на шлюзах DGNWG05LM и ZHWG11LM
</div>
<div class="text-sm sm:text-xs text-center text-gray-400 mt-2">
Powered by <a href="https://www.axiomtheme.com/?utm_source=theme-footer&utm_medium=website&utm_campaign=referral">Axiom</a>
</div>
</div>
</footer>
<script src="https://dpolyakov.github.io/openlumi.github.io/openlumi.github.io/bundle.js?v=1631896254"></script>
</body>
</html>